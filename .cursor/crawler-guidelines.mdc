---
description: 爬虫开发指导规则
globs: 
alwaysApply: false
---
# 爬虫开发指导规则

## 爬虫策略总览
详细策略参见：[爬虫策略.md](mdc:guidance/爬虫策略.md)

## 目标平台与数据点
### 小红书
- **内容类型**: 图文/短视频笔记
- **核心字段**: 标题、内容、标签、点赞数、收藏数、评论数、发布时间
- **特殊字段**: 用户性别（部分可见）

### 抖音
- **内容类型**: 短视频 + 评论
- **核心字段**: 视频标题、时长、博主ID、点赞、评论、转发、话题标签
- **特殊字段**: 视频时长、话题挑战

### 淘宝
- **内容类型**: 商品详情 + 用户评论
- **核心字段**: 商品名、价格、销量、评价数、好评率、用户评论
- **特殊字段**: 价格区间、销售数据

## 关键词搜索策略
### 核心关键词
- "AI陪伴" "智能陪伴" "虚拟女友" "虚拟男友"
- "宠物机器人" "陪伴机器人" "智能音箱"
- "二次元" "动漫手办" "语音助手"
- "AI玩偶" "智能玩具" "语音陪伴"

### 扩展关键词
- 品牌词: "小爱同学" "天猫精灵" "小度" 等
- 功能词: "对话" "聊天" "陪伴" "互动" 等

## 反爬策略
1. **延时控制**: 0.5s~3s随机延时
2. **请求头轮换**: User-Agent、Referer动态变化
3. **代理使用**: IP代理池（如需要）
4. **浏览器模拟**: Playwright/Selenium指纹模拟
5. **登录状态**: 部分平台需要登录后访问

## 数据存储格式
- **原始数据**: JSON格式存储，保持完整结构
- **处理后数据**: CSV格式，符合统一字段模板
- **文件命名**: `{platform}_{date}_raw.json` / `{platform}_{date}_cleaned.csv`

## 爬虫代码结构建议
```python
crawler/
├── base_crawler.py      # 基础爬虫类
├── xiaohongshu_crawler.py
├── douyin_crawler.py
├── taobao_crawler.py
├── utils/
│   ├── headers.py       # 请求头管理
│   ├── proxy.py         # 代理管理
│   └── parser.py        # 数据解析工具
└── config.py           # 配置文件
```
